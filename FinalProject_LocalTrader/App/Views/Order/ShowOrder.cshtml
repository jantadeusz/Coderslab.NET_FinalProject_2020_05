@model OrderModel
@{
    ViewData["Title"] = "ShowOrder";
}

<h1>ShowOrder @Model.Id started at @Model.OrderStart. Products:</h1>
<br />
<a href="~/Order/AddProductToOrder/@Model.Id">Add product</a>
<br />
<a href="~/Order/FinishOrder/@Model.Id">Finish this order</a>
<br />
<table class="table">
    <thead>
        <tr>
            <th>Lp</th>
            <th>Name</th>
            <th>Price</th>
            <th>ProductQuantity</th>
        </tr>
    </thead>
    <tbody>
        @{int lp = 0; }
        @foreach (ProductOrderModel pom in Model.ProductOrder)
        {
            lp++;
            <tr style="background-color: white">
                <td> @lp                    </td>
                <td> @pom.Product.Name      </td>
                <td> @pom.Product.Price     </td>
                <td> @pom.ProductQuantity   </td>
                <td> <a href="~/Order/RemoveProductFromOrder/@Model.Id/@pom.Id">Remove</a> </td>
            </tr>
        }
    </tbody>
</table>
<p>todo: total amount </p>
<p>todo: tylko ilosci wieksze od 0 </p>
<p>todo: increase quantity when add same product </p>
<p>todo: jezeli zamowienie jest Active to juz nie mozna go zamknac ponownie - niewidoczny link </p>
